# python 2025-03-16

## windowsでpythonの環境を設定する
- 参考
- https://qiita.com/syusuke9999/items/9d35bcdb4119a1c4957a
- https://github.com/pyenv-win/pyenv-win
- Powershellを管理者として実行
- セキュリティをガバガバにする

```
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine
```
- pyenvをインストール(pythonのバージョン管理)

```
Invoke-WebRequest -UseBasicParsing -Uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -OutFile "./install-pyenv-win.ps1"; &"

```

```
pyenv install 3.12
pyenv global 3.12
```

## つかいやすいPythonの環境構築

- VScodeのExtension一覧から、Python, Jupyterをインストール

```py
#%%
print("hello world")
```
run cellを押して必要なライブラリが自動でインストールされる

- パッケージのインストール(vscode > terminal > new terminalでかく)
```
pip install numpy
pip install matplotlib
```

## 簡単なグラフを書く(ctrl + Enterでブロックを実行)
```
# %%
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 1, 100)
y = np.random.random(100)

plt.scatter(x, y)


```

## 文法の解説

```py
# %%
import numpy as np
import matplotlib.pyplot as plt
from numpy.typing import NDArray
# %%


# 型-----------------------------
# :型の形で書く。書いても書かなくてもいい

# 整数型
x1: int = 1
# 小数型
x2: float = 1.0
# bool型
x3: bool = False
# 文字型
x4: str = "hello goodbye"
# None型 (応用、気にしなくていい)
x5: None = None
# NDArray型 (numpy array専用)
# np.linspace(start: float, end: float, 数: int)
x6: NDArray = np.linspace(0.0, 10.0, 100)
x7: NDArray = np.random.random(100)
x8: NDArray = np.zeros((100,))
x9: NDArray = np.ones((100,))

# これ以外にも無限にある

# %%

# 二項演算子----------------------------
# 整数や実数に対して
x = 2 * 5
y = 3

## (A, A) -> A型
print(x * y)
print(x - y)
print(x + y)

## (A, A) -> float型
print(x / y)

## (A, A) -> bool型
z = x == y
print(z)

## (bool, bool) -> bool型
# and 演算子（かつ)
print((x == y) and False)
# print( x*y and False) 意味不明だから使わない

## (bool, bool) -> bool型
# or 演算子 （または）
print((x == y) or False)

# %%
# 文字に対しても２項演算子が使えるときがある。
p: str = "hello"
q: str = "goodbye"
print(p + q)
print(p == q)
# print(p * 3) なるべくやらない
# print(p - q)  # error
# print(p / q)  # error

# %%
# １項演算子
# bool -> bool

s = False
print(not s)
# print(not 1) # なるべくやらない

# 組み合わせ

# %%
# トリッキーな演算子
# []演算子
# (Array of A, int) -> A
vec = np.linspace(0.0, 1.0, 100)
print(vec[10])


# %%

# 関数
def add(x: int, y: int) -> int:
    return x + y

# とりあえずは型は書かなくてもよい
def add2(x, y):
    return x + y

def add_double(x: int, y: int) -> int:
    return x + y * 2

print(add(add(1, 2), 3))

print(add_double(10, 11))
```

## Chatgptとの付き合い方
- 使っても良いが、出力された結果で、わからない文法は全て調べる。
    - 理解できないものは後回しでも良いが、理解していないことを認識しておく。

